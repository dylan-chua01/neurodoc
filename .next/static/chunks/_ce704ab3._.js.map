{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/common/message-list.tsx"],"sourcesContent":["// components/message-list.tsx\nimport { cn } from '@/lib/utils'\nimport { Message } from 'ai/react'\nimport React from 'react'\n\ntype Props = {\n    messages: Array<Message & { sources?: Array<{ page: number, content: string }> }>\n}\n\nconst MessageList = ({ messages }: Props) => {\n    if (!messages || messages.length === 0) return null\n\n    return (\n        <div className='flex flex-col gap-2 px-4'>\n            {messages.map((message) => (\n                <div\n                    key={message.id}\n                    className={cn('flex', {\n                        'justify-end pl-10': message.role === 'user',\n                        'justify-start pr-10': message.role === 'assistant',\n                    })}\n                >\n                    <div className={cn('rounded-lg px-3 text-sm py-1 shadow-md ring-1 ring-gray-900/10', {\n                        'bg-blue-600 text-white': message.role === 'user',\n                        'bg-gray-50': message.role === 'assistant',\n                    })}>\n                        <p className={cn({\n                            'text-white': message.role === 'user',\n                            'text-gray-900': message.role === 'assistant',\n                        })}>\n                            {message.content}\n                        </p>\n                        {message.sources && (\n                            <div className=\"mt-1 text-xs text-gray-500\">\n                                Sources: {message.sources.map(s => `Page ${s.page}`).join(', ')}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            ))}\n        </div>\n    )\n}\n\nexport default MessageList"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAC9B;;;AAQA,MAAM,cAAc,CAAC,EAAE,QAAQ,EAAS;IACpC,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG,OAAO;IAE/C,qBACI,6LAAC;QAAI,WAAU;kBACV,SAAS,GAAG,CAAC,CAAC,wBACX,6LAAC;gBAEG,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;oBAClB,qBAAqB,QAAQ,IAAI,KAAK;oBACtC,uBAAuB,QAAQ,IAAI,KAAK;gBAC5C;0BAEA,cAAA,6LAAC;oBAAI,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,kEAAkE;wBACjF,0BAA0B,QAAQ,IAAI,KAAK;wBAC3C,cAAc,QAAQ,IAAI,KAAK;oBACnC;;sCACI,6LAAC;4BAAE,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE;gCACb,cAAc,QAAQ,IAAI,KAAK;gCAC/B,iBAAiB,QAAQ,IAAI,KAAK;4BACtC;sCACK,QAAQ,OAAO;;;;;;wBAEnB,QAAQ,OAAO,kBACZ,6LAAC;4BAAI,WAAU;;gCAA6B;gCAC9B,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAA,IAAK,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC;;;;;;;;;;;;;eAlBjE,QAAQ,EAAE;;;;;;;;;;AA0BnC;KAjCM;uCAmCS","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/common/chat-side-bar.tsx"],"sourcesContent":["'use client';\n\nimport { useChat } from 'ai/react';\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Send, FileText, Sparkles } from \"lucide-react\";\nimport MessageList from \"./message-list\";\nimport { useState, useEffect, useRef } from 'react';\nimport { ChatMessage } from '@langchain/core/messages';\n\ntype Props = {\n  fileUrl: string;\n  userId?: string;\n};\n\nconst ChatSidebar = ({ fileUrl }: Props) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [initialMessages, setInitialMessages] = useState<ChatMessage[]>([]);\n  const chatContainerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  \n  const { messages, input, handleInputChange, append, setMessages} = useChat({\n    api: '/api/chat',\n    body: { fileUrl },\n  });\n  \n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  //load chat history\n  useEffect(() => {\n    const loadHistory = async () => {\n      try {\n        const res = await fetch('/api/get-chat-history', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ fileUrl }),\n        });\n  \n        if (res.ok) {\n          const data = await res.json();\n          if (data.history && data.history.length > 0) {\n            const restoredMessages = data.history.flatMap((entry: any) => [\n              { \n                id: `user-${entry.created_at}`, \n                role: 'user' as const, \n                content: entry.question \n              },\n              { \n                id: `assistant-${entry.created_at}`, \n                role: 'assistant' as const, \n                content: entry.answer \n              },\n            ]);\n            setInitialMessages(restoredMessages);\n          }\n        }\n      } catch (error) {\n        console.error('Failed to load chat history:', error);\n      }\n    };\n  \n    loadHistory();\n  }, [fileUrl]);\n\n  useEffect(() => {\n    if (initialMessages.length > 0) {\n      setMessages(initialMessages);\n    }\n  }, [initialMessages, setMessages]);\n\n  // Focus input on mount\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, []);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const currentQuestion = inputRef.current?.value.trim() || '';\n    if (!currentQuestion || isLoading) return;\n  \n    setIsLoading(true);\n\n    handleInputChange({ target: { value: '' } } as React.ChangeEvent<HTMLInputElement>);\n    try {\n      await append({\n        content: currentQuestion,\n        role: 'user',\n      });\n  \n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          fileUrl,\n          question: currentQuestion,\n          chatHistory: messages\n            .filter(m => m.role === 'user')\n            .map(m => m.content)\n        }),\n      });\n  \n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(errorText || 'Failed to get AI response');\n      }\n\n      const { answer, sources } = await response.json();\n\n      if (currentQuestion && answer) {\n        try {\n            const saveResponse = await fetch('/api/save-chat', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                  fileUrl,\n                  question: currentQuestion,\n                  answer,\n                  sources: sources || []\n                }),\n              });\n        \n              if (!saveResponse.ok) {\n                const saveError = await saveResponse.json();\n                console.warn('Chat saved locally but failed in database:', saveError);\n          }\n        } catch (saveError) {\n          console.error('Database save error:', saveError);\n        }\n      }\n  \n\n      await append({\n        content: answer,\n        role: 'assistant',\n        data: { sources },\n      });\n    } catch (error) {\n      console.error(error);\n      await append({\n        content: error instanceof Error\n          ? error.message\n          : \"Sorry, I couldn't process your question.\",\n        role: 'assistant',\n      });\n    } finally {\n      setIsLoading(false);\n      // Focus back on input after sending\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-[1500px] max-h-[100vh]\">\n      {/* Header */}\n      <div className=\"p-4 border-b bg-gradient-to-r from-emerald-50 to-teal-50 flex items-center gap-2\">\n        <FileText className=\"h-5 w-5 text-emerald-600\" />\n        <h3 className=\"font-medium text-emerald-800\">Document Assistant</h3>\n      </div>\n      \n      {/* Initial state when no messages */}\n      {messages.length === 0 && (\n        <div className=\"flex-1 flex flex-col items-center justify-center text-center p-6 text-gray-500 space-y-3\">\n          <Sparkles className=\"h-8 w-8 text-emerald-500 mb-2\" />\n          <h4 className=\"font-medium text-gray-700\">Ask about this document</h4>\n          <p className=\"text-sm\">Get insights, summaries or ask specific questions about the content.</p>\n        </div>\n      )}\n      \n      {/* Messages */}\n      <div \n        ref={chatContainerRef} \n        className=\"flex-1 overflow-y-auto p-4 space-y-4 scroll-smooth\"\n      >\n        <MessageList messages={messages} />\n      </div>\n\n      {/* Input form */}\n      <form onSubmit={handleSubmit} className=\"sticky bottom-0 p-4 bg-white border-t shadow-sm\">\n  <div className=\"flex gap-2 items-center\">\n    <Input\n      ref={inputRef}\n      value={isLoading ? 'Thinking...' : input}\n      onChange={handleInputChange}\n      placeholder=\"Ask about this document...\"\n      disabled={isLoading}\n      className=\"rounded-full bg-gray-50 border-gray-200 focus:border-emerald-300 focus:ring-emerald-200\"\n      onKeyDown={(e) => {\n        // Prevent submitting empty messages with Enter key\n        if (e.key === 'Enter' && !input.trim()) {\n          e.preventDefault();\n        }\n      }}\n    />\n    <Button \n      type=\"submit\" \n      disabled={isLoading || !input.trim()}\n      className=\"rounded-full h-10 w-10 p-0 bg-emerald-600 hover:bg-emerald-700 flex items-center justify-center shrink-0\"\n    >\n      {isLoading ? \n        <span className=\"animate-pulse\">...</span> : \n        <Send className=\"h-4 w-4\" />\n      }\n    </Button>\n  </div>\n</form>\n    </div>\n  );\n};\n\nexport default ChatSidebar;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 514, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS","debugId":null}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/common/notes.tsx"],"sourcesContent":["// components/common/notes.tsx\n'use client';\n\nimport { useEffect, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Save, Expand, Shrink, Trash2, History } from \"lucide-react\";\nimport { Textarea } from \"../ui/textarea\";\nimport { useDebounce } from \"use-debounce\";\nimport { toast } from \"sonner\";\n\ntype NotesSectionProps = {\n  fileUrl: string;\n  userId?: string;\n  className?: string;\n};\n\nconst NotesSection = ({ fileUrl, userId, className }: NotesSectionProps) => {\n  const [notes, setNotes] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [debouncedNotes] = useDebounce(notes, 2000); // Auto-save after 2s inactivity\n\n  // Fetch saved notes\n  useEffect(() => {\n    const fetchNotes = async () => {\n      setLoading(true);\n      try {\n        const res = await fetch(\"/api/get-notes\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ fileUrl, userId }),\n        });\n        const data = await res.json();\n        setNotes(data.notes || \"\");\n      } catch (err) {\n        console.error(\"Failed to load notes:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchNotes();\n  }, [fileUrl, userId]);\n\n  // Auto-save when debounced notes change\n  useEffect(() => {\n    if (debouncedNotes && debouncedNotes !== notes) {\n      handleSave();\n    }\n  }, [debouncedNotes]);\n\n  // Save notes\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const res = await fetch(\"/api/save-notes\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ fileUrl, userId, notes }),\n      });\n\n      if (!res.ok) throw new Error(\"Failed to save notes\");\n      \n      toast.success(\"Notes saved successfully\");\n    } catch (err) {\n      toast.error(\"Failed to save notes\");\n      console.error(err);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const clearNotes = () => {\n    setNotes(\"\");\n    toast.info(\"Notes cleared (save to confirm)\");\n  };\n\n  return (\n    <div className={`flex flex-col ${className}`}>\n      <div className=\"flex items-center justify-between mb-3\">\n        <h4 className=\"font-medium text-gray-800 text-lg\">Document Notes</h4>\n        <div className=\"flex gap-2\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setIsExpanded(!isExpanded)}\n            title={isExpanded ? \"Collapse\" : \"Expand\"}\n          >\n            {isExpanded ? <Shrink className=\"w-4 h-4\" /> : <Expand className=\"w-4 h-4\" />}\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={clearNotes}\n            title=\"Clear notes\"\n          >\n            <Trash2 className=\"w-4 h-4 text-red-500\" />\n          </Button>\n          <Button\n            size=\"sm\"\n            onClick={handleSave}\n            disabled={saving}\n            className=\"gap-1\"\n          >\n            {saving ? \"Saving...\" : <><Save className=\"w-4 h-4\" /> Save</>}\n          </Button>\n        </div>\n      </div>\n      \n      <Textarea\n        value={notes}\n        onChange={(e) => setNotes(e.target.value)}\n        placeholder=\"Write your notes here...\"\n        rows={isExpanded ? 15 : 8}\n        disabled={loading}\n        className={`resize-none focus:ring-emerald-200 focus:border-emerald-300 transition-all ${\n          isExpanded ? \"min-h-[400px]\" : \"min-h-[200px]\"\n        }`}\n      />\n      \n      <div className=\"mt-2 flex justify-between items-center text-sm text-gray-500\">\n        <div>\n          {notes.length > 0 && (\n            <span>\n              {notes.length} characters • {notes.split(/\\s+/).filter(Boolean).length} words\n            </span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NotesSection;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 798, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/upload/summaries/download-summary-button.tsx"],"sourcesContent":["'use client';\n\nimport { Button } from \"@/components/ui/button\";\nimport { Download } from \"lucide-react\";\n\nexport function DownloadSummaryButton({\n    title,\n    summaryText,\n    fileName,\n    createdAt,\n} : {\n    title: string;\n    summaryText: string;\n    fileName: string;\n    createdAt: string;\n}) {\n    const handleDownload = () => {\n        const summaryContect = `# ${title}\nGenerated Summary\nGenerated on: ${new Date(createdAt).toLocaleDateString()}\n        \n${summaryText}\n        \nOriginal File: ${fileName}\nGenerated by NeuroDoc\n`; \n\n        const blob = new Blob([summaryContect], {type: 'text/plain'});\n        const url = URL.createObjectURL(blob);\n\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `$Summary-${title.replace(/[^a-z0-9]/gi,\n        '_')}.txt`;\n        document.body.appendChild(link);\n        link.click();\n        \n        document.body.removeChild(link);\n\n        URL.revokeObjectURL(url);\n    }\n\n    return <Button\n        size=\"sm\"\n        className=\"h-8 px-3 bg-rose-100 text-rose-600 hover:text-rose-700 hover:bg-rose-50\"\n        onClick={handleDownload}\n    >\n        <Download className=\"h-4 w-4 mr-1\" />\n        Download Summary</Button>\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,sBAAsB,EAClC,KAAK,EACL,WAAW,EACX,QAAQ,EACR,SAAS,EAMZ;IACG,MAAM,iBAAiB;QACnB,MAAM,iBAAiB,CAAC,EAAE,EAAE,MAAM;;cAE5B,EAAE,IAAI,KAAK,WAAW,kBAAkB,GAAG;;AAEzD,EAAE,YAAY;;eAEC,EAAE,SAAS;;AAE1B,CAAC;QAEO,MAAM,OAAO,IAAI,KAAK;YAAC;SAAe,EAAE;YAAC,MAAM;QAAY;QAC3D,MAAM,MAAM,IAAI,eAAe,CAAC;QAEhC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,SAAS,EAAE,MAAM,OAAO,CAAC,eAC1C,KAAK,IAAI,CAAC;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QAEV,SAAS,IAAI,CAAC,WAAW,CAAC;QAE1B,IAAI,eAAe,CAAC;IACxB;IAEA,qBAAO,6LAAC,8HAAA,CAAA,SAAM;QACV,MAAK;QACL,WAAU;QACV,SAAS;;0BAET,6LAAC,6MAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;YAAiB;;;;;;;AAE7C;KA5CgB","debugId":null}},
    {"offset": {"line": 865, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 980, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/upload/summaries/progress-bar.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\n\nexport default function ProgressBar({\n    sections,\n    currentSection,\n} : {\n    sections: Array<{ title: string; points: string[] }>;\n    currentSection: number;\n}) {\n    return (\n        <div className=\"absolute top-0 left-0 right-0 z-20 bg-background/80 backdrop-blur-xs pt-4 pb-2 border-b border-rose-50/10\">\n        <div className=\"px-4 flex gap-1.5\">\n        {sections.map((_, index) => (\n  <div\n    key={index} // ✅ Correct placement here\n    className=\"h-1.5 flex-1 rounded-full bg-rose-500/10 overflow-hidden\"\n  >\n    <div \n      className={cn(\n        'h-full bg-linear-to-r from-gray-500 to-rose-600 transition-all duration-500',\n        index === currentSection ? 'w-full' : currentSection > index ? 'w-full opacity-10' : 'w-0'\n      )}\n    />\n  </div>\n))}\n        </div>\n        </div>\n\n)\n}"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS,YAAY,EAChC,QAAQ,EACR,cAAc,EAIjB;IACG,qBACI,6LAAC;QAAI,WAAU;kBACf,cAAA,6LAAC;YAAI,WAAU;sBACd,SAAS,GAAG,CAAC,CAAC,GAAG,sBACxB,6LAAC;oBAEC,WAAU;8BAEV,cAAA,6LAAC;wBACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,+EACA,UAAU,iBAAiB,WAAW,iBAAiB,QAAQ,sBAAsB;;;;;;mBANpF;;;;;;;;;;;;;;;AAeT;KA3BwB","debugId":null}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/utils/summary-helpers.ts"],"sourcesContent":["export const parseSection = (section: string): { title: string; points: string[] } => {\n    const [title, ...content] = section.split('\\n');\n    const cleanTitle = title.replace(/^#+\\s*/, '').trim();\n    \n    const points: string[] = [];\n    let currentPoint = '';\n  \n    content.forEach((line) => {\n      const trimmedLine = line.trim();\n      \n      if (trimmedLine.startsWith('•') || trimmedLine.startsWith('-')) {\n        if (currentPoint) points.push(currentPoint);\n        currentPoint = trimmedLine.substring(1).trim();\n      } else if (!trimmedLine) {\n        if (currentPoint) points.push(currentPoint);\n        currentPoint = '';\n      } else {\n        currentPoint += (currentPoint ? ' ' : '') + trimmedLine;\n      }\n    });\n  \n    if (currentPoint) points.push(currentPoint);\n  \n    return { \n      title: cleanTitle, \n      points: points.filter(point => point && !point.startsWith('#') && !point.startsWith('[Choose'))\n    };\n  };\n\nexport function parsePoint(point: string) {\n    const isNumbered = /^\\d+\\./.test(point.trim());\n    const isMainPoint = /^[•-]/.test(point.trim());\n    const emojiRegex = /[\\u{1F300}-\\u{1F9FF}]|[\\u{2600}-\\u{26FF}]/u;\n    const hasEmoji = emojiRegex.test(point);\n    const isEmpty = !point.trim();\n    const isSubPoint = /^\\s{2,}[•-]/.test(point);\n\n    return { isNumbered, isMainPoint, hasEmoji, isEmpty, isSubPoint };\n}\n\nexport function parseEmojiPoint(content: string) {\n    const emojiRegex = /[\\u{1F300}-\\u{1F9FF}]|[\\u{2600}-\\u{26FF}]/u;\n    const emojiMatch = content.match(emojiRegex);\n    const emoji = emojiMatch ? emojiMatch[0] : '';\n    const text = content.replace(emojiRegex, '').replace(/^[•\\-\\s]+/, '').trim();\n    return { emoji, text };\n}"],"names":[],"mappings":";;;;;AAAO,MAAM,eAAe,CAAC;IACzB,MAAM,CAAC,OAAO,GAAG,QAAQ,GAAG,QAAQ,KAAK,CAAC;IAC1C,MAAM,aAAa,MAAM,OAAO,CAAC,UAAU,IAAI,IAAI;IAEnD,MAAM,SAAmB,EAAE;IAC3B,IAAI,eAAe;IAEnB,QAAQ,OAAO,CAAC,CAAC;QACf,MAAM,cAAc,KAAK,IAAI;QAE7B,IAAI,YAAY,UAAU,CAAC,QAAQ,YAAY,UAAU,CAAC,MAAM;YAC9D,IAAI,cAAc,OAAO,IAAI,CAAC;YAC9B,eAAe,YAAY,SAAS,CAAC,GAAG,IAAI;QAC9C,OAAO,IAAI,CAAC,aAAa;YACvB,IAAI,cAAc,OAAO,IAAI,CAAC;YAC9B,eAAe;QACjB,OAAO;YACL,gBAAgB,CAAC,eAAe,MAAM,EAAE,IAAI;QAC9C;IACF;IAEA,IAAI,cAAc,OAAO,IAAI,CAAC;IAE9B,OAAO;QACL,OAAO;QACP,QAAQ,OAAO,MAAM,CAAC,CAAA,QAAS,SAAS,CAAC,MAAM,UAAU,CAAC,QAAQ,CAAC,MAAM,UAAU,CAAC;IACtF;AACF;AAEK,SAAS,WAAW,KAAa;IACpC,MAAM,aAAa,SAAS,IAAI,CAAC,MAAM,IAAI;IAC3C,MAAM,cAAc,QAAQ,IAAI,CAAC,MAAM,IAAI;IAC3C,MAAM,aAAa;IACnB,MAAM,WAAW,WAAW,IAAI,CAAC;IACjC,MAAM,UAAU,CAAC,MAAM,IAAI;IAC3B,MAAM,aAAa,cAAc,IAAI,CAAC;IAEtC,OAAO;QAAE;QAAY;QAAa;QAAU;QAAS;IAAW;AACpE;AAEO,SAAS,gBAAgB,OAAe;IAC3C,MAAM,aAAa;IACnB,MAAM,aAAa,QAAQ,KAAK,CAAC;IACjC,MAAM,QAAQ,aAAa,UAAU,CAAC,EAAE,GAAG;IAC3C,MAAM,OAAO,QAAQ,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,aAAa,IAAI,IAAI;IAC1E,OAAO;QAAE;QAAO;IAAK;AACzB","debugId":null}},
    {"offset": {"line": 1091, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/upload/summaries/content-section.tsx"],"sourcesContent":["// content-section.tsx\nimport { motion } from \"framer-motion\";\nimport { cn } from \"@/lib/utils\";\nimport { parseEmojiPoint, parsePoint } from \"@/utils/summary-helpers\";\n\nconst EmojiPointCard = ({ point, index }: { point: string; index: number }) => {\n    const { emoji, text } = parseEmojiPoint(point);\n    \n    return (\n        <motion.div\n            key={`emoji-point-${index}`}\n            initial={{ opacity: 0, y: 8 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ \n                duration: 0.3, \n                delay: index * 0.05,\n                ease: \"easeOut\"\n            }}\n            className=\"group relative bg-gradient-to-br from-white to-gray-50 p-5 rounded-xl border border-gray-200 hover:border-rose-200 shadow-sm hover:shadow-md transition-all\"\n        >\n            <div className=\"absolute inset-0 bg-gradient-to-r from-rose-50/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl\" />\n            <div className=\"relative flex items-start gap-4\">\n                {emoji && (\n                    <span className=\"text-2xl shrink-0 flex items-center justify-center w-10 h-10 rounded-lg bg-rose-50 text-rose-500\">\n                        {emoji}\n                    </span>\n                )}\n                <p className=\"text-gray-700 text-lg leading-relaxed\">\n                    {text}\n                </p>\n            </div>\n        </motion.div>\n    );\n}\n\nconst BulletPoint = ({ point, index }: { point: string; index: number }) => {\n    return (\n        <motion.div\n            key={`bullet-point-${index}`}\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ \n                delay: index * 0.05,\n                type: \"spring\",\n                stiffness: 100\n            }}\n            className=\"group flex items-start pl-2\"\n        >\n            <span className=\"inline-block w-2.5 h-2.5 rounded-full bg-rose-400 mt-2.5 mr-3 flex-shrink-0 transition-all group-hover:bg-rose-600 group-hover:scale-110\" />\n            <p className=\"text-gray-700 text-base leading-relaxed\">\n                {point.replace(/^[•\\-\\s]+/, '').trim()}\n            </p>\n        </motion.div>\n    );\n}\n\nconst RegularPointCard = ({ point, index }: { point: string; index: number }) => {\n    return (\n        <motion.div\n            key={`regular-point-${index}`}\n            initial={{ opacity: 0, y: 5 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ \n                duration: 0.25,\n                delay: index * 0.03\n            }}\n            className=\"group relative bg-white p-4 rounded-lg border border-gray-100 hover:border-rose-100 shadow-xs hover:shadow-sm transition-all\"\n        >\n            <div className=\"absolute inset-0 bg-gradient-to-r from-rose-50/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg\" />\n            <p className=\"relative text-gray-700 text-base leading-relaxed\">\n                {point}\n            </p>\n        </motion.div>\n    );\n}\n\nexport default function ContentSection({\n    title,\n    points,\n}: {\n    title: string;\n    points: string[];\n}) {\n    return (\n        <div className=\"space-y-4\">\n            {points\n                .filter(point => !parsePoint(point).isEmpty)\n                .map((point, index) => {\n                    const { isMainPoint, hasEmoji, isSubPoint } = parsePoint(point);\n\n                    if (hasEmoji) {\n                        return <EmojiPointCard key={`${title}-${index}`} point={point} index={index} />;\n                    }\n\n                    if (isMainPoint) {\n                        return <BulletPoint key={`${title}-${index}`} point={point} index={index} />;\n                    }\n\n                    return <RegularPointCard key={`${title}-${index}`} point={point} index={index} />;\n                })}\n        </div>\n    );\n}"],"names":[],"mappings":"AAAA,sBAAsB;;;;;AACtB;AAEA;;;;AAEA,MAAM,iBAAiB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAoC;IACtE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,kBAAe,AAAD,EAAE;IAExC,qBACI,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QAEP,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YACR,UAAU;YACV,OAAO,QAAQ;YACf,MAAM;QACV;QACA,WAAU;;0BAEV,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBAAI,WAAU;;oBACV,uBACG,6LAAC;wBAAK,WAAU;kCACX;;;;;;kCAGT,6LAAC;wBAAE,WAAU;kCACR;;;;;;;;;;;;;OAlBJ,CAAC,YAAY,EAAE,OAAO;;;;;AAuBvC;KA5BM;AA8BN,MAAM,cAAc,CAAC,EAAE,KAAK,EAAE,KAAK,EAAoC;IACnE,qBACI,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QAEP,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC9B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YACR,OAAO,QAAQ;YACf,MAAM;YACN,WAAW;QACf;QACA,WAAU;;0BAEV,6LAAC;gBAAK,WAAU;;;;;;0BAChB,6LAAC;gBAAE,WAAU;0BACR,MAAM,OAAO,CAAC,aAAa,IAAI,IAAI;;;;;;;OAZnC,CAAC,aAAa,EAAE,OAAO;;;;;AAgBxC;MAnBM;AAqBN,MAAM,mBAAmB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAoC;IACxE,qBACI,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QAEP,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YACR,UAAU;YACV,OAAO,QAAQ;QACnB;QACA,WAAU;;0BAEV,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBAAE,WAAU;0BACR;;;;;;;OAXA,CAAC,cAAc,EAAE,OAAO;;;;;AAezC;MAlBM;AAoBS,SAAS,eAAe,EACnC,KAAK,EACL,MAAM,EAIT;IACG,qBACI,6LAAC;QAAI,WAAU;kBACV,OACI,MAAM,CAAC,CAAA,QAAS,CAAC,CAAA,GAAA,8HAAA,CAAA,aAAU,AAAD,EAAE,OAAO,OAAO,EAC1C,GAAG,CAAC,CAAC,OAAO;YACT,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,aAAU,AAAD,EAAE;YAEzD,IAAI,UAAU;gBACV,qBAAO,6LAAC;oBAAyC,OAAO;oBAAO,OAAO;mBAA1C,GAAG,MAAM,CAAC,EAAE,OAAO;;;;;YACnD;YAEA,IAAI,aAAa;gBACb,qBAAO,6LAAC;oBAAsC,OAAO;oBAAO,OAAO;mBAA1C,GAAG,MAAM,CAAC,EAAE,OAAO;;;;;YAChD;YAEA,qBAAO,6LAAC;gBAA2C,OAAO;gBAAO,OAAO;eAA1C,GAAG,MAAM,CAAC,EAAE,OAAO;;;;;QACrD;;;;;;AAGhB;MA1BwB","debugId":null}},
    {"offset": {"line": 1293, "column": 0}, "map": {"version":3,"sources":["file:///Users/dylanchua/Documents/Personal/Code/neurodocument/components/upload/summaries/summary-viewer.tsx"],"sourcesContent":["// summary-viewer.tsx\n'use client';\n\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { useState } from \"react\";\nimport { NavigationControls } from \"./navigation-controls\";\nimport ProgressBar from \"./progress-bar\";\nimport { parseSection } from \"@/utils/summary-helpers\";\nimport { motion } from \"framer-motion\";\nimport ContentSection from \"./content-section\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\n\nconst SectionHeader = ({ \n  title,\n  currentSection,\n  totalSections \n}: { \n  title: string;\n  currentSection: number;\n  totalSections: number;\n}) => {\n  return (\n    <motion.div \n      initial={{ opacity: 0, y: -10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.2 }}\n      className=\"sticky top-0 z-10 pt-6 pb-4 bg-background/90 backdrop-blur-lg border-b border-[#006747]/20\"\n    >\n      <div className=\"flex flex-col gap-1 px-6\">\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-sm font-medium text-[#006747]\">\n            Section {currentSection + 1}/{totalSections}\n          </span>\n          <div className=\"flex gap-1\">\n            {Array.from({ length: totalSections }).map((_, i) => (\n              <div \n                key={i}\n                className={`w-1.5 h-1.5 rounded-full ${i === currentSection ? 'bg-[#006747]' : 'bg-gray-200'}`}\n              />\n            ))}\n          </div>\n        </div>\n        <h2 className=\"text-2xl md:text-3xl font-bold bg-gradient-to-r from-[#006747] to-[#008D5E] bg-clip-text text-transparent\">\n          {title}\n        </h2>\n      </div>\n    </motion.div>\n  );\n}\n\nexport function SummaryViewer({ summary }: { summary: string }) {\n  const [currentSection, setCurrentSection] = useState(0);\n  \n  const sections = summary.split(/\\n#+/)\n    .map(section => section.trim())\n    .filter(Boolean)\n    .map(parseSection);\n\n  const handleNext = () => setCurrentSection(prev => Math.min(prev + 1, sections.length - 1));\n  const handlePrevious = () => setCurrentSection(prev => Math.max(prev - 1, 0));\n\n  if (sections.length === 0) {\n    return (\n      <Card className=\"min-h-[300px] flex items-center justify-center rounded-xl border border-[#006747]/20\">\n        <CardContent className=\"text-center text-gray-500\">\n          No content available\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"relative h-[500px] sm:h-[600px] lg:h-[700px] w-full max-w-4xl mx-auto\">\n      <Card className=\"h-full w-full overflow-hidden bg-gradient-to-br from-white via-white/95 to-[#006747]/5 backdrop-blur-sm shadow-lg rounded-xl border border-[#006747]/20\">\n        <ProgressBar sections={sections} currentSection={currentSection}/>\n        \n        <SectionHeader \n          title={sections[currentSection].title} \n          currentSection={currentSection}\n          totalSections={sections.length}\n        />\n        \n        <CardContent className=\"px-6 pb-16 overflow-y-auto h-[calc(100%-120px)]\">\n          <ContentSection \n            title={sections[currentSection]?.title || ''}\n            points={sections[currentSection]?.points || []}\n          />\n        </CardContent>\n\n        <div className=\"absolute bottom-4 left-0 right-0 flex justify-center\">\n          <div className=\"flex gap-2 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full border border-[#006747]/20 shadow-sm\">\n            <button \n              onClick={handlePrevious}\n              disabled={currentSection === 0}\n              className=\"p-2 rounded-full disabled:opacity-50 hover:bg-[#006747]/10 transition-colors\"\n            >\n              <ChevronLeft className=\"w-5 h-5 text-[#006747]\" />\n            </button>\n            <button \n              onClick={handleNext}\n              disabled={currentSection === sections.length - 1}\n              className=\"p-2 rounded-full disabled:opacity-50 hover:bg-[#006747]/10 transition-colors\"\n            >\n              <ChevronRight className=\"w-5 h-5 text-[#006747]\" />\n            </button>\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,qBAAqB;;;;;AAGrB;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;;;AATA;;;;;;;;AAWA,MAAM,gBAAgB,CAAC,EACrB,KAAK,EACL,cAAc,EACd,aAAa,EAKd;IACC,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC9B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;kBAEV,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAK,WAAU;;gCAAqC;gCAC1C,iBAAiB;gCAAE;gCAAE;;;;;;;sCAEhC,6LAAC;4BAAI,WAAU;sCACZ,MAAM,IAAI,CAAC;gCAAE,QAAQ;4BAAc,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC7C,6LAAC;oCAEC,WAAW,CAAC,yBAAyB,EAAE,MAAM,iBAAiB,iBAAiB,eAAe;mCADzF;;;;;;;;;;;;;;;;8BAMb,6LAAC;oBAAG,WAAU;8BACX;;;;;;;;;;;;;;;;;AAKX;KApCM;AAsCC,SAAS,cAAc,EAAE,OAAO,EAAuB;;IAC5D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,MAAM,WAAW,QAAQ,KAAK,CAAC,QAC5B,GAAG,CAAC,CAAA,UAAW,QAAQ,IAAI,IAC3B,MAAM,CAAC,SACP,GAAG,CAAC,8HAAA,CAAA,eAAY;IAEnB,MAAM,aAAa,IAAM,kBAAkB,CAAA,OAAQ,KAAK,GAAG,CAAC,OAAO,GAAG,SAAS,MAAM,GAAG;IACxF,MAAM,iBAAiB,IAAM,kBAAkB,CAAA,OAAQ,KAAK,GAAG,CAAC,OAAO,GAAG;IAE1E,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,qBACE,6LAAC,4HAAA,CAAA,OAAI;YAAC,WAAU;sBACd,cAAA,6LAAC,4HAAA,CAAA,cAAW;gBAAC,WAAU;0BAA4B;;;;;;;;;;;IAKzD;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,4HAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,6LAAC,wJAAA,CAAA,UAAW;oBAAC,UAAU;oBAAU,gBAAgB;;;;;;8BAEjD,6LAAC;oBACC,OAAO,QAAQ,CAAC,eAAe,CAAC,KAAK;oBACrC,gBAAgB;oBAChB,eAAe,SAAS,MAAM;;;;;;8BAGhC,6LAAC,4HAAA,CAAA,cAAW;oBAAC,WAAU;8BACrB,cAAA,6LAAC,2JAAA,CAAA,UAAc;wBACb,OAAO,QAAQ,CAAC,eAAe,EAAE,SAAS;wBAC1C,QAAQ,QAAQ,CAAC,eAAe,EAAE,UAAU,EAAE;;;;;;;;;;;8BAIlD,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS;gCACT,UAAU,mBAAmB;gCAC7B,WAAU;0CAEV,cAAA,6LAAC,uNAAA,CAAA,cAAW;oCAAC,WAAU;;;;;;;;;;;0CAEzB,6LAAC;gCACC,SAAS;gCACT,UAAU,mBAAmB,SAAS,MAAM,GAAG;gCAC/C,WAAU;0CAEV,cAAA,6LAAC,yNAAA,CAAA,eAAY;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtC;GA5DgB;MAAA","debugId":null}}]
}